<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <h:outputStylesheet library="css" name="styles.css"/>
    <style type="text/css">
        body{
            background-image: url(./resources/css/background.png);
        }
    </style>
</h:head>

<f:view>
    <h1>User register form</h1>
    <h:form>
        <h:panelGrid columns="3">
            <h:outputLabel for="name" value="Name: "/>
            <h:inputText id="name" value="#{registerUser.user.name}" validatorMessage="Name require 3-50 digits">
                <f:validateLength minimum="3" maximum="50"/>
            </h:inputText>
            <h:message for="name"/>

            <h:outputLabel for="surname" value="Surame: "/>
            <h:inputText id="surname" value="#{registerUser.user.surname}" validatorMessage="Surname require 3-50 digits">
                <f:validateLength minimum="3" maximum="50" />
            </h:inputText>
            <h:message for="surname"/>

            <h:outputLabel for="bday" value="Birth date: "/>
            <h:inputText id="bday" value="#{registerUser.user.bday}" validatorMessage="Birth date require dd/mm/yyyy pattern">
                <f:convertDateTime type="localDate" pattern="dd/MM/yyyy"/>
            </h:inputText>
            <h:message for="bday"/>

            <h:outputLabel for="email" value="Email: "/>
            <h:inputText id="email" value="#{registerUser.user.email}" validatorMessage="email is invalid">
                <f:validateRegex pattern="^(.+)@(.+)$"/>
            </h:inputText>
            <h:messages for="email"/>

            <h:outputLabel for="login" value="Login: "/>
            <h:inputText id="login" value="#{registerUser.user.login}" validatorMessage="login reqire 4-32 digits, only avaible are characters and numbers">
                <f:validateLength minimum="4" maximum="32"/>
                <f:validateRegex pattern="^[a-zA-Z0-9]+$"/>
            </h:inputText>
            <h:message for="login"/>

            <h:outputLabel for="pass" value="Password: "/>
            <h:inputSecret id="pass" value="#{registerUser.user.pass}" validator="#{registerUser.validatePass}" validatorMessage="password have to be made of small and big characters and numbers, minimum lenght is 5">
                <f:validateRegex pattern="^[0-9a-zA-Z\S+$]+$"/>
            </h:inputSecret>
            <h:message for="pass"/>

            <h:outputLabel for="checkPass" value="Check password: "/>
            <h:inputSecret id="checkPass" value="#{registerUser.user.checkPass}"/>
            <h:message for="checkPass" />
            <h:messages/>

            <h:commandButton action="#{registerUser.register}" value="Register"/>
        </h:panelGrid>
    </h:form>
</f:view>

</html>
